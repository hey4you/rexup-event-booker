<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Event Booking</title>
</head>

<body>
  <header id="home">
    <nav>
      <h1>RexUp Event Booker </h1>
      <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="#events">Events</a></li>
        <li><a href="#add-event">New Event</a></li>
        <li><a onclick="openForm()">Login</a></li>
      </ul>
    </nav>
    <div class="welcome-event"></div>
  </header>
  <main>
    <section id="events">
      <h1 class="section-title">Events</h1>
      <div class="events-container"></div>
    </section>
    <section id="add-event">
      <h1 class="section-title">New Event</h1>
      <form class="form">
        <input type="text" id="name" placeholder="Name">
        <input type="number" id="attendee" placeholder="Attendees">
        <textarea id="description" cols="30" rows="10" placeholder="Description..."></textarea>
        <input type="file" value="upload" id="fileButton"/>
        <input type="text" id="email" placeholder="Support Email">
        <select id="status">
          <option value="0">Free</option>
          <option value="1">Paid</option>
        </select>
        <button class="btn btn-primary">Save</button>
      </form>
    </section>
    <section id="sendEmail">
      <h1 class="section-title">Send an Email</h1>
      <h2 id="selectEmail"></h2>
      <form class="form" action="mailto:someone@example.com" method="post" enctype="text/plain">
        Name:<br>
        <input type="text" id="emailName"><br>
        E-mail:<br>
        <input type="text" name="userEmail"><br>
        Comment:<br>
        <textarea id="comment" cols="30" rows="10" placeholder="Add a comment..."></textarea>
        <br><br>
        <input type="submit" onclick="sendEmail()" class="btn-login" value="Send">
        <input type="reset" class="btn-tertiary" value="Reset">
      </form>
    </section>
  </main>

  <!--Login PopUp-->
  <div class="form-popup" id="myForm">
    <form class="form-container">
      <h1>Login</h1>

      <label for="email"><b>Email</b></label>
      <input type="text" placeholder="Enter Email" id="txtEmail" required>

      <label for="psw"><b>Password</b></label>
      <input type="password" placeholder="Enter Password" id="txtPassword" required>

      <button type="submit" id="btnLogin" class="btn btn-login" onclick="login()">Login</button>
      <button type="submit" id="btnSignUp" class="btn btn-signUp">Sign Up</button>
      <button type="button" id="btnClose" class="btn btn-tertiary" onclick="closeForm()">Close</button>
    </form>
  </div>


  <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-storage.js"></script>
  <script src="https://smtpjs.com/v3/smtp.js"></script>

  <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyDGZAvkot8hZUIiTvHIR4a0rcNwC5tjHp4",
      authDomain: "rexup-20934.firebaseapp.com",
      databaseURL: "https://rexup-20934.firebaseio.com",
      projectId: "rexup-20934",
      storageBucket: "rexup-20934.appspot.com",
      messagingSenderId: "623081262228",
      appId: "1:623081262228:web:e3b1763d69c59fdb89b881"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore()

    const fileButton = document.getElementById('fileButton');
    fileButton.addEventListener('change', function (e) {
      //Get File 
      var file = e.target.files[0];

      //create storage ref
      var storageRef = firebase.storage().ref('images/' + file.name);

      //upload file
      var task = storageRef.put(file);
    });

  </script>
  <script>
    function openForm() {
      document.getElementById("myForm").style.display = "block";
    }

    function closeForm() {
      document.getElementById("myForm").style.display = "none";
    }

    function login() {
      alert('Welcome test.user@gmail.com admin: true')
      document.getElementById("myForm").style.display = "none";
    }
  </script>

  <script src="auth.js"></script>
  <script src="db.js"></script>
  <script src="app.js"></script>

</body>

</html>